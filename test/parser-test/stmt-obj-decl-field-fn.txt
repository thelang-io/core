======= stdin =======
obj Test1 {
  a: fn () void
}

obj Test2 {
  b: fn (int, int) int
}

fn t1 () {
  print("Hello, World!")
}

fn t2 (a: int, b: int) int {
  return a + b
}

main {
  test1 := Test1{a: t1}
  test2 := Test2{b: t2}

  test1.a()
  print("1 + 2 =", test1.b(1, 2))
}
======= stdout =======
<Stmt start="1:1" end="3:2">
  <StmtObjDecl>
    <slot name="id">
      <Token type="ID" val="Test1" start="1:5" end="1:10" />
    </slot>
    <slot name="fields">
      <StmtObjDeclField>
        <slot name="id">
          <Token type="ID" val="a" start="2:3" end="2:4" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="2:6" end="2:16">
            <TypeFn>
              <slot name="returnType">
                <Type parenthesized="false" start="2:12" end="2:16">
                  <TypeId>
                    <Token type="ID" val="void" start="2:12" end="2:16" />
                  </TypeId>
                </Type>
              </slot>
            </TypeFn>
          </Type>
        </slot>
      </StmtObjDeclField>
    </slot>
  </StmtObjDecl>
</Stmt>
<Stmt start="5:1" end="7:2">
  <StmtObjDecl>
    <slot name="id">
      <Token type="ID" val="Test2" start="5:5" end="5:10" />
    </slot>
    <slot name="fields">
      <StmtObjDeclField>
        <slot name="id">
          <Token type="ID" val="b" start="6:3" end="6:4" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="6:6" end="6:23">
            <TypeFn>
              <slot name="params">
                <TypeFnParam>
                  <Type parenthesized="false" start="6:10" end="6:13">
                    <TypeId>
                      <Token type="ID" val="int" start="6:10" end="6:13" />
                    </TypeId>
                  </Type>
                </TypeFnParam>
                <TypeFnParam>
                  <Type parenthesized="false" start="6:15" end="6:18">
                    <TypeId>
                      <Token type="ID" val="int" start="6:15" end="6:18" />
                    </TypeId>
                  </Type>
                </TypeFnParam>
              </slot>
              <slot name="returnType">
                <Type parenthesized="false" start="6:20" end="6:23">
                  <TypeId>
                    <Token type="ID" val="int" start="6:20" end="6:23" />
                  </TypeId>
                </Type>
              </slot>
            </TypeFn>
          </Type>
        </slot>
      </StmtObjDeclField>
    </slot>
  </StmtObjDecl>
</Stmt>
<Stmt start="9:1" end="11:2">
  <StmtFnDecl>
    <slot name="id">
      <Token type="ID" val="t1" start="9:4" end="9:6" />
    </slot>
    <slot name="body">
      <Stmt start="10:3" end="10:25">
        <StmtExpr parenthesized="false">
          <ExprCall>
            <slot name="callee">
              <Token type="ID" val="print" start="10:3" end="10:8" />
            </slot>
            <slot name="args">
              <ExprCallArg>
                <slot name="expr">
                  <StmtExpr parenthesized="false">
                    <ExprLit>
                      <Token type="LIT_STR" val="\"Hello, World!\"" start="10:9" end="10:24" />
                    </ExprLit>
                  </StmtExpr>
                </slot>
              </ExprCallArg>
            </slot>
          </ExprCall>
        </StmtExpr>
      </Stmt>
    </slot>
  </StmtFnDecl>
</Stmt>
<Stmt start="13:1" end="15:2">
  <StmtFnDecl>
    <slot name="id">
      <Token type="ID" val="t2" start="13:4" end="13:6" />
    </slot>
    <slot name="params">
      <StmtFnDeclParam>
        <slot name="id">
          <Token type="ID" val="a" start="13:8" end="13:9" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="13:11" end="13:14">
            <TypeId>
              <Token type="ID" val="int" start="13:11" end="13:14" />
            </TypeId>
          </Type>
        </slot>
      </StmtFnDeclParam>
      <StmtFnDeclParam>
        <slot name="id">
          <Token type="ID" val="b" start="13:16" end="13:17" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="13:19" end="13:22">
            <TypeId>
              <Token type="ID" val="int" start="13:19" end="13:22" />
            </TypeId>
          </Type>
        </slot>
      </StmtFnDeclParam>
    </slot>
    <slot name="returnType">
      <Type parenthesized="false" start="13:24" end="13:27">
        <TypeId>
          <Token type="ID" val="int" start="13:24" end="13:27" />
        </TypeId>
      </Type>
    </slot>
    <slot name="body">
      <Stmt start="14:3" end="14:15">
        <StmtReturn>
          <StmtExpr parenthesized="false">
            <ExprBinary>
              <slot name="left">
                <StmtExpr parenthesized="false">
                  <ExprAccess>
                    <Token type="ID" val="a" start="14:10" end="14:11" />
                  </ExprAccess>
                </StmtExpr>
              </slot>
              <slot name="op">
                <Token type="OP_PLUS" val="+" start="14:12" end="14:13" />
              </slot>
              <slot name="right">
                <StmtExpr parenthesized="false">
                  <ExprAccess>
                    <Token type="ID" val="b" start="14:14" end="14:15" />
                  </ExprAccess>
                </StmtExpr>
              </slot>
            </ExprBinary>
          </StmtExpr>
        </StmtReturn>
      </Stmt>
    </slot>
  </StmtFnDecl>
</Stmt>
<Stmt start="17:1" end="23:2">
  <StmtMain>
    <Stmt start="18:3" end="18:24">
      <StmtVarDecl mut="false">
        <slot name="id">
          <Token type="ID" val="test1" start="18:3" end="18:8" />
        </slot>
        <slot name="init">
          <StmtExpr parenthesized="false">
            <ExprObj>
              <slot name="id">
                <Token type="ID" val="Test1" start="18:12" end="18:17" />
              </slot>
              <slot name="props">
                <ExprObjProp>
                  <slot name="id">
                    <Token type="ID" val="a" start="18:18" end="18:19" />
                  </slot>
                  <slot name="init">
                    <StmtExpr parenthesized="false">
                      <ExprAccess>
                        <Token type="ID" val="t1" start="18:21" end="18:23" />
                      </ExprAccess>
                    </StmtExpr>
                  </slot>
                </ExprObjProp>
              </slot>
            </ExprObj>
          </StmtExpr>
        </slot>
      </StmtVarDecl>
    </Stmt>
    <Stmt start="19:3" end="19:24">
      <StmtVarDecl mut="false">
        <slot name="id">
          <Token type="ID" val="test2" start="19:3" end="19:8" />
        </slot>
        <slot name="init">
          <StmtExpr parenthesized="false">
            <ExprObj>
              <slot name="id">
                <Token type="ID" val="Test2" start="19:12" end="19:17" />
              </slot>
              <slot name="props">
                <ExprObjProp>
                  <slot name="id">
                    <Token type="ID" val="b" start="19:18" end="19:19" />
                  </slot>
                  <slot name="init">
                    <StmtExpr parenthesized="false">
                      <ExprAccess>
                        <Token type="ID" val="t2" start="19:21" end="19:23" />
                      </ExprAccess>
                    </StmtExpr>
                  </slot>
                </ExprObjProp>
              </slot>
            </ExprObj>
          </StmtExpr>
        </slot>
      </StmtVarDecl>
    </Stmt>
    <Stmt start="21:3" end="21:12">
      <StmtExpr parenthesized="false">
        <ExprCall>
          <slot name="callee">
            <slot name="obj">
              <Token type="ID" val="test1" start="21:3" end="21:8" />
            </slot>
            <slot name="prop">
              <Token type="ID" val="a" start="21:9" end="21:10" />
            </slot>
          </slot>
        </ExprCall>
      </StmtExpr>
    </Stmt>
    <Stmt start="22:3" end="22:34">
      <StmtExpr parenthesized="false">
        <ExprCall>
          <slot name="callee">
            <Token type="ID" val="print" start="22:3" end="22:8" />
          </slot>
          <slot name="args">
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false">
                  <ExprLit>
                    <Token type="LIT_STR" val="\"1 + 2 =\"" start="22:9" end="22:18" />
                  </ExprLit>
                </StmtExpr>
              </slot>
            </ExprCallArg>
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false">
                  <ExprCall>
                    <slot name="callee">
                      <slot name="obj">
                        <Token type="ID" val="test1" start="22:20" end="22:25" />
                      </slot>
                      <slot name="prop">
                        <Token type="ID" val="b" start="22:26" end="22:27" />
                      </slot>
                    </slot>
                    <slot name="args">
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="1" start="22:28" end="22:29" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="2" start="22:31" end="22:32" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                    </slot>
                  </ExprCall>
                </StmtExpr>
              </slot>
            </ExprCallArg>
          </slot>
        </ExprCall>
      </StmtExpr>
    </Stmt>
  </StmtMain>
</Stmt>
