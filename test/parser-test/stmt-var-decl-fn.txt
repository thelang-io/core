======= stdin =======
fn t1 () {
  print("Hello, World!")
}

fn t2 (a: int, b: int) int {
  return a + b
}

fn t3 (a: int, b: int...) int {
  print(b)
  return a
}

main {
  mut a: fn () void
  a = t1
  b: fn (int, int) int = t2
  c := t3

  a()
  print("1 + 2 =", b(1, 2))
  print("1 =", c(1))
  print("1, 2 =", c(1, 2))
  print("1, 2, 3 =", c(1, 2, 3))
  print("1, 2, 3, 4 =", c(1, 2, 3, 4))
}
======= stdout =======
<Stmt start="1:1" end="3:2">
  <StmtFnDecl>
    <slot name="id">
      <Token type="ID" val="t1" start="1:4" end="1:6" />
    </slot>
    <slot name="body">
      <Stmt start="2:3" end="2:25">
        <StmtExpr parenthesized="false" start="2:3" end="2:25">
          <ExprCall>
            <slot name="callee">
              <ExprAccess>
                <Token type="ID" val="print" start="2:3" end="2:8" />
              </ExprAccess>
            </slot>
            <slot name="args">
              <ExprCallArg>
                <slot name="expr">
                  <StmtExpr parenthesized="false" start="2:9" end="2:24">
                    <ExprLit>
                      <Token type="LIT_STR" val="\"Hello, World!\"" start="2:9" end="2:24" />
                    </ExprLit>
                  </StmtExpr>
                </slot>
              </ExprCallArg>
            </slot>
          </ExprCall>
        </StmtExpr>
      </Stmt>
    </slot>
  </StmtFnDecl>
</Stmt>
<Stmt start="5:1" end="7:2">
  <StmtFnDecl>
    <slot name="id">
      <Token type="ID" val="t2" start="5:4" end="5:6" />
    </slot>
    <slot name="params">
      <StmtFnDeclParam variadic="false">
        <slot name="id">
          <Token type="ID" val="a" start="5:8" end="5:9" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="5:11" end="5:14">
            <TypeId>
              <Token type="ID" val="int" start="5:11" end="5:14" />
            </TypeId>
          </Type>
        </slot>
      </StmtFnDeclParam>
      <StmtFnDeclParam variadic="false">
        <slot name="id">
          <Token type="ID" val="b" start="5:16" end="5:17" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="5:19" end="5:22">
            <TypeId>
              <Token type="ID" val="int" start="5:19" end="5:22" />
            </TypeId>
          </Type>
        </slot>
      </StmtFnDeclParam>
    </slot>
    <slot name="returnType">
      <Type parenthesized="false" start="5:24" end="5:27">
        <TypeId>
          <Token type="ID" val="int" start="5:24" end="5:27" />
        </TypeId>
      </Type>
    </slot>
    <slot name="body">
      <Stmt start="6:3" end="6:15">
        <StmtReturn>
          <StmtExpr parenthesized="false" start="6:10" end="6:15">
            <ExprBinary>
              <slot name="left">
                <StmtExpr parenthesized="false" start="6:10" end="6:11">
                  <ExprAccess>
                    <Token type="ID" val="a" start="6:10" end="6:11" />
                  </ExprAccess>
                </StmtExpr>
              </slot>
              <slot name="op">
                <Token type="OP_PLUS" val="+" start="6:12" end="6:13" />
              </slot>
              <slot name="right">
                <StmtExpr parenthesized="false" start="6:14" end="6:15">
                  <ExprAccess>
                    <Token type="ID" val="b" start="6:14" end="6:15" />
                  </ExprAccess>
                </StmtExpr>
              </slot>
            </ExprBinary>
          </StmtExpr>
        </StmtReturn>
      </Stmt>
    </slot>
  </StmtFnDecl>
</Stmt>
<Stmt start="9:1" end="12:2">
  <StmtFnDecl>
    <slot name="id">
      <Token type="ID" val="t3" start="9:4" end="9:6" />
    </slot>
    <slot name="params">
      <StmtFnDeclParam variadic="false">
        <slot name="id">
          <Token type="ID" val="a" start="9:8" end="9:9" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="9:11" end="9:14">
            <TypeId>
              <Token type="ID" val="int" start="9:11" end="9:14" />
            </TypeId>
          </Type>
        </slot>
      </StmtFnDeclParam>
      <StmtFnDeclParam variadic="true">
        <slot name="id">
          <Token type="ID" val="b" start="9:16" end="9:17" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="9:19" end="9:22">
            <TypeId>
              <Token type="ID" val="int" start="9:19" end="9:22" />
            </TypeId>
          </Type>
        </slot>
      </StmtFnDeclParam>
    </slot>
    <slot name="returnType">
      <Type parenthesized="false" start="9:27" end="9:30">
        <TypeId>
          <Token type="ID" val="int" start="9:27" end="9:30" />
        </TypeId>
      </Type>
    </slot>
    <slot name="body">
      <Stmt start="10:3" end="10:11">
        <StmtExpr parenthesized="false" start="10:3" end="10:11">
          <ExprCall>
            <slot name="callee">
              <ExprAccess>
                <Token type="ID" val="print" start="10:3" end="10:8" />
              </ExprAccess>
            </slot>
            <slot name="args">
              <ExprCallArg>
                <slot name="expr">
                  <StmtExpr parenthesized="false" start="10:9" end="10:10">
                    <ExprAccess>
                      <Token type="ID" val="b" start="10:9" end="10:10" />
                    </ExprAccess>
                  </StmtExpr>
                </slot>
              </ExprCallArg>
            </slot>
          </ExprCall>
        </StmtExpr>
      </Stmt>
      <Stmt start="11:3" end="11:11">
        <StmtReturn>
          <StmtExpr parenthesized="false" start="11:10" end="11:11">
            <ExprAccess>
              <Token type="ID" val="a" start="11:10" end="11:11" />
            </ExprAccess>
          </StmtExpr>
        </StmtReturn>
      </Stmt>
    </slot>
  </StmtFnDecl>
</Stmt>
<Stmt start="14:1" end="26:2">
  <StmtMain>
    <Stmt start="15:3" end="15:20">
      <StmtVarDecl mut="true">
        <slot name="id">
          <Token type="ID" val="a" start="15:7" end="15:8" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="15:10" end="15:20">
            <TypeFn>
              <slot name="returnType">
                <Type parenthesized="false" start="15:16" end="15:20">
                  <TypeId>
                    <Token type="ID" val="void" start="15:16" end="15:20" />
                  </TypeId>
                </Type>
              </slot>
            </TypeFn>
          </Type>
        </slot>
      </StmtVarDecl>
    </Stmt>
    <Stmt start="16:3" end="16:9">
      <StmtExpr parenthesized="false" start="16:3" end="16:9">
        <ExprAssign>
          <slot name="left">
            <ExprAccess>
              <Token type="ID" val="a" start="16:3" end="16:4" />
            </ExprAccess>
          </slot>
          <slot name="op">
            <Token type="OP_EQ" val="=" start="16:5" end="16:6" />
          </slot>
          <slot name="right">
            <StmtExpr parenthesized="false" start="16:7" end="16:9">
              <ExprAccess>
                <Token type="ID" val="t1" start="16:7" end="16:9" />
              </ExprAccess>
            </StmtExpr>
          </slot>
        </ExprAssign>
      </StmtExpr>
    </Stmt>
    <Stmt start="17:3" end="17:28">
      <StmtVarDecl mut="false">
        <slot name="id">
          <Token type="ID" val="b" start="17:3" end="17:4" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="17:6" end="17:23">
            <TypeFn>
              <slot name="params">
                <TypeFnParam variadic="false">
                  <Type parenthesized="false" start="17:10" end="17:13">
                    <TypeId>
                      <Token type="ID" val="int" start="17:10" end="17:13" />
                    </TypeId>
                  </Type>
                </TypeFnParam>
                <TypeFnParam variadic="false">
                  <Type parenthesized="false" start="17:15" end="17:18">
                    <TypeId>
                      <Token type="ID" val="int" start="17:15" end="17:18" />
                    </TypeId>
                  </Type>
                </TypeFnParam>
              </slot>
              <slot name="returnType">
                <Type parenthesized="false" start="17:20" end="17:23">
                  <TypeId>
                    <Token type="ID" val="int" start="17:20" end="17:23" />
                  </TypeId>
                </Type>
              </slot>
            </TypeFn>
          </Type>
        </slot>
        <slot name="init">
          <StmtExpr parenthesized="false" start="17:26" end="17:28">
            <ExprAccess>
              <Token type="ID" val="t2" start="17:26" end="17:28" />
            </ExprAccess>
          </StmtExpr>
        </slot>
      </StmtVarDecl>
    </Stmt>
    <Stmt start="18:3" end="18:10">
      <StmtVarDecl mut="false">
        <slot name="id">
          <Token type="ID" val="c" start="18:3" end="18:4" />
        </slot>
        <slot name="init">
          <StmtExpr parenthesized="false" start="18:8" end="18:10">
            <ExprAccess>
              <Token type="ID" val="t3" start="18:8" end="18:10" />
            </ExprAccess>
          </StmtExpr>
        </slot>
      </StmtVarDecl>
    </Stmt>
    <Stmt start="20:3" end="20:6">
      <StmtExpr parenthesized="false" start="20:3" end="20:6">
        <ExprCall>
          <slot name="callee">
            <ExprAccess>
              <Token type="ID" val="a" start="20:3" end="20:4" />
            </ExprAccess>
          </slot>
        </ExprCall>
      </StmtExpr>
    </Stmt>
    <Stmt start="21:3" end="21:28">
      <StmtExpr parenthesized="false" start="21:3" end="21:28">
        <ExprCall>
          <slot name="callee">
            <ExprAccess>
              <Token type="ID" val="print" start="21:3" end="21:8" />
            </ExprAccess>
          </slot>
          <slot name="args">
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false" start="21:9" end="21:18">
                  <ExprLit>
                    <Token type="LIT_STR" val="\"1 + 2 =\"" start="21:9" end="21:18" />
                  </ExprLit>
                </StmtExpr>
              </slot>
            </ExprCallArg>
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false" start="21:20" end="21:27">
                  <ExprCall>
                    <slot name="callee">
                      <ExprAccess>
                        <Token type="ID" val="b" start="21:20" end="21:21" />
                      </ExprAccess>
                    </slot>
                    <slot name="args">
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="21:22" end="21:23">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="1" start="21:22" end="21:23" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="21:25" end="21:26">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="2" start="21:25" end="21:26" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                    </slot>
                  </ExprCall>
                </StmtExpr>
              </slot>
            </ExprCallArg>
          </slot>
        </ExprCall>
      </StmtExpr>
    </Stmt>
    <Stmt start="22:3" end="22:21">
      <StmtExpr parenthesized="false" start="22:3" end="22:21">
        <ExprCall>
          <slot name="callee">
            <ExprAccess>
              <Token type="ID" val="print" start="22:3" end="22:8" />
            </ExprAccess>
          </slot>
          <slot name="args">
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false" start="22:9" end="22:14">
                  <ExprLit>
                    <Token type="LIT_STR" val="\"1 =\"" start="22:9" end="22:14" />
                  </ExprLit>
                </StmtExpr>
              </slot>
            </ExprCallArg>
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false" start="22:16" end="22:20">
                  <ExprCall>
                    <slot name="callee">
                      <ExprAccess>
                        <Token type="ID" val="c" start="22:16" end="22:17" />
                      </ExprAccess>
                    </slot>
                    <slot name="args">
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="22:18" end="22:19">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="1" start="22:18" end="22:19" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                    </slot>
                  </ExprCall>
                </StmtExpr>
              </slot>
            </ExprCallArg>
          </slot>
        </ExprCall>
      </StmtExpr>
    </Stmt>
    <Stmt start="23:3" end="23:27">
      <StmtExpr parenthesized="false" start="23:3" end="23:27">
        <ExprCall>
          <slot name="callee">
            <ExprAccess>
              <Token type="ID" val="print" start="23:3" end="23:8" />
            </ExprAccess>
          </slot>
          <slot name="args">
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false" start="23:9" end="23:17">
                  <ExprLit>
                    <Token type="LIT_STR" val="\"1, 2 =\"" start="23:9" end="23:17" />
                  </ExprLit>
                </StmtExpr>
              </slot>
            </ExprCallArg>
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false" start="23:19" end="23:26">
                  <ExprCall>
                    <slot name="callee">
                      <ExprAccess>
                        <Token type="ID" val="c" start="23:19" end="23:20" />
                      </ExprAccess>
                    </slot>
                    <slot name="args">
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="23:21" end="23:22">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="1" start="23:21" end="23:22" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="23:24" end="23:25">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="2" start="23:24" end="23:25" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                    </slot>
                  </ExprCall>
                </StmtExpr>
              </slot>
            </ExprCallArg>
          </slot>
        </ExprCall>
      </StmtExpr>
    </Stmt>
    <Stmt start="24:3" end="24:33">
      <StmtExpr parenthesized="false" start="24:3" end="24:33">
        <ExprCall>
          <slot name="callee">
            <ExprAccess>
              <Token type="ID" val="print" start="24:3" end="24:8" />
            </ExprAccess>
          </slot>
          <slot name="args">
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false" start="24:9" end="24:20">
                  <ExprLit>
                    <Token type="LIT_STR" val="\"1, 2, 3 =\"" start="24:9" end="24:20" />
                  </ExprLit>
                </StmtExpr>
              </slot>
            </ExprCallArg>
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false" start="24:22" end="24:32">
                  <ExprCall>
                    <slot name="callee">
                      <ExprAccess>
                        <Token type="ID" val="c" start="24:22" end="24:23" />
                      </ExprAccess>
                    </slot>
                    <slot name="args">
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="24:24" end="24:25">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="1" start="24:24" end="24:25" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="24:27" end="24:28">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="2" start="24:27" end="24:28" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="24:30" end="24:31">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="3" start="24:30" end="24:31" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                    </slot>
                  </ExprCall>
                </StmtExpr>
              </slot>
            </ExprCallArg>
          </slot>
        </ExprCall>
      </StmtExpr>
    </Stmt>
    <Stmt start="25:3" end="25:39">
      <StmtExpr parenthesized="false" start="25:3" end="25:39">
        <ExprCall>
          <slot name="callee">
            <ExprAccess>
              <Token type="ID" val="print" start="25:3" end="25:8" />
            </ExprAccess>
          </slot>
          <slot name="args">
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false" start="25:9" end="25:23">
                  <ExprLit>
                    <Token type="LIT_STR" val="\"1, 2, 3, 4 =\"" start="25:9" end="25:23" />
                  </ExprLit>
                </StmtExpr>
              </slot>
            </ExprCallArg>
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false" start="25:25" end="25:38">
                  <ExprCall>
                    <slot name="callee">
                      <ExprAccess>
                        <Token type="ID" val="c" start="25:25" end="25:26" />
                      </ExprAccess>
                    </slot>
                    <slot name="args">
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="25:27" end="25:28">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="1" start="25:27" end="25:28" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="25:30" end="25:31">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="2" start="25:30" end="25:31" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="25:33" end="25:34">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="3" start="25:33" end="25:34" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                      <ExprCallArg>
                        <slot name="expr">
                          <StmtExpr parenthesized="false" start="25:36" end="25:37">
                            <ExprLit>
                              <Token type="LIT_INT_DEC" val="4" start="25:36" end="25:37" />
                            </ExprLit>
                          </StmtExpr>
                        </slot>
                      </ExprCallArg>
                    </slot>
                  </ExprCall>
                </StmtExpr>
              </slot>
            </ExprCallArg>
          </slot>
        </ExprCall>
      </StmtExpr>
    </Stmt>
  </StmtMain>
</Stmt>
