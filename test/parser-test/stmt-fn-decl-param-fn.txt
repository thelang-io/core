======= stdin =======
fn test1 (a: fn () void) {
  a()
}

fn test2 (b: int, c: int) int {
  return a + b
}

fn test3 () void {
  print("Hello, World!")
}

fn test4 (d: fn (fn () void) void, e: fn (int, int) int) {
  d(test3)
  print("1 + 2 =", e(1, 2))
}

main {
  test4(test1, test2)
}
======= stdout =======
<Stmt start="1:1" end="3:2">
  <StmtFnDecl>
    <slot name="id">
      <Token type="ID" val="test1" start="1:4" end="1:9" />
    </slot>
    <slot name="params">
      <StmtFnDeclParam variadic="false">
        <slot name="id">
          <Token type="ID" val="a" start="1:11" end="1:12" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="1:14" end="1:24">
            <TypeFn>
              <slot name="returnType">
                <Type parenthesized="false" start="1:20" end="1:24">
                  <TypeId>
                    <Token type="ID" val="void" start="1:20" end="1:24" />
                  </TypeId>
                </Type>
              </slot>
            </TypeFn>
          </Type>
        </slot>
      </StmtFnDeclParam>
    </slot>
    <slot name="body">
      <Stmt start="2:3" end="2:6">
        <StmtExpr parenthesized="false">
          <ExprCall>
            <slot name="callee">
              <Token type="ID" val="a" start="2:3" end="2:4" />
            </slot>
          </ExprCall>
        </StmtExpr>
      </Stmt>
    </slot>
  </StmtFnDecl>
</Stmt>
<Stmt start="5:1" end="7:2">
  <StmtFnDecl>
    <slot name="id">
      <Token type="ID" val="test2" start="5:4" end="5:9" />
    </slot>
    <slot name="params">
      <StmtFnDeclParam variadic="false">
        <slot name="id">
          <Token type="ID" val="b" start="5:11" end="5:12" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="5:14" end="5:17">
            <TypeId>
              <Token type="ID" val="int" start="5:14" end="5:17" />
            </TypeId>
          </Type>
        </slot>
      </StmtFnDeclParam>
      <StmtFnDeclParam variadic="false">
        <slot name="id">
          <Token type="ID" val="c" start="5:19" end="5:20" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="5:22" end="5:25">
            <TypeId>
              <Token type="ID" val="int" start="5:22" end="5:25" />
            </TypeId>
          </Type>
        </slot>
      </StmtFnDeclParam>
    </slot>
    <slot name="returnType">
      <Type parenthesized="false" start="5:27" end="5:30">
        <TypeId>
          <Token type="ID" val="int" start="5:27" end="5:30" />
        </TypeId>
      </Type>
    </slot>
    <slot name="body">
      <Stmt start="6:3" end="6:15">
        <StmtReturn>
          <StmtExpr parenthesized="false">
            <ExprBinary>
              <slot name="left">
                <StmtExpr parenthesized="false">
                  <ExprAccess>
                    <Token type="ID" val="a" start="6:10" end="6:11" />
                  </ExprAccess>
                </StmtExpr>
              </slot>
              <slot name="op">
                <Token type="OP_PLUS" val="+" start="6:12" end="6:13" />
              </slot>
              <slot name="right">
                <StmtExpr parenthesized="false">
                  <ExprAccess>
                    <Token type="ID" val="b" start="6:14" end="6:15" />
                  </ExprAccess>
                </StmtExpr>
              </slot>
            </ExprBinary>
          </StmtExpr>
        </StmtReturn>
      </Stmt>
    </slot>
  </StmtFnDecl>
</Stmt>
<Stmt start="9:1" end="11:2">
  <StmtFnDecl>
    <slot name="id">
      <Token type="ID" val="test3" start="9:4" end="9:9" />
    </slot>
    <slot name="returnType">
      <Type parenthesized="false" start="9:13" end="9:17">
        <TypeId>
          <Token type="ID" val="void" start="9:13" end="9:17" />
        </TypeId>
      </Type>
    </slot>
    <slot name="body">
      <Stmt start="10:3" end="10:25">
        <StmtExpr parenthesized="false">
          <ExprCall>
            <slot name="callee">
              <Token type="ID" val="print" start="10:3" end="10:8" />
            </slot>
            <slot name="args">
              <ExprCallArg>
                <slot name="expr">
                  <StmtExpr parenthesized="false">
                    <ExprLit>
                      <Token type="LIT_STR" val="\"Hello, World!\"" start="10:9" end="10:24" />
                    </ExprLit>
                  </StmtExpr>
                </slot>
              </ExprCallArg>
            </slot>
          </ExprCall>
        </StmtExpr>
      </Stmt>
    </slot>
  </StmtFnDecl>
</Stmt>
<Stmt start="13:1" end="16:2">
  <StmtFnDecl>
    <slot name="id">
      <Token type="ID" val="test4" start="13:4" end="13:9" />
    </slot>
    <slot name="params">
      <StmtFnDeclParam variadic="false">
        <slot name="id">
          <Token type="ID" val="d" start="13:11" end="13:12" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="13:14" end="13:34">
            <TypeFn>
              <slot name="params">
                <TypeFnParam variadic="false">
                  <Type parenthesized="false" start="13:18" end="13:28">
                    <TypeFn>
                      <slot name="returnType">
                        <Type parenthesized="false" start="13:24" end="13:28">
                          <TypeId>
                            <Token type="ID" val="void" start="13:24" end="13:28" />
                          </TypeId>
                        </Type>
                      </slot>
                    </TypeFn>
                  </Type>
                </TypeFnParam>
              </slot>
              <slot name="returnType">
                <Type parenthesized="false" start="13:30" end="13:34">
                  <TypeId>
                    <Token type="ID" val="void" start="13:30" end="13:34" />
                  </TypeId>
                </Type>
              </slot>
            </TypeFn>
          </Type>
        </slot>
      </StmtFnDeclParam>
      <StmtFnDeclParam variadic="false">
        <slot name="id">
          <Token type="ID" val="e" start="13:36" end="13:37" />
        </slot>
        <slot name="type">
          <Type parenthesized="false" start="13:39" end="13:56">
            <TypeFn>
              <slot name="params">
                <TypeFnParam variadic="false">
                  <Type parenthesized="false" start="13:43" end="13:46">
                    <TypeId>
                      <Token type="ID" val="int" start="13:43" end="13:46" />
                    </TypeId>
                  </Type>
                </TypeFnParam>
                <TypeFnParam variadic="false">
                  <Type parenthesized="false" start="13:48" end="13:51">
                    <TypeId>
                      <Token type="ID" val="int" start="13:48" end="13:51" />
                    </TypeId>
                  </Type>
                </TypeFnParam>
              </slot>
              <slot name="returnType">
                <Type parenthesized="false" start="13:53" end="13:56">
                  <TypeId>
                    <Token type="ID" val="int" start="13:53" end="13:56" />
                  </TypeId>
                </Type>
              </slot>
            </TypeFn>
          </Type>
        </slot>
      </StmtFnDeclParam>
    </slot>
    <slot name="body">
      <Stmt start="14:3" end="14:11">
        <StmtExpr parenthesized="false">
          <ExprCall>
            <slot name="callee">
              <Token type="ID" val="d" start="14:3" end="14:4" />
            </slot>
            <slot name="args">
              <ExprCallArg>
                <slot name="expr">
                  <StmtExpr parenthesized="false">
                    <ExprAccess>
                      <Token type="ID" val="test3" start="14:5" end="14:10" />
                    </ExprAccess>
                  </StmtExpr>
                </slot>
              </ExprCallArg>
            </slot>
          </ExprCall>
        </StmtExpr>
      </Stmt>
      <Stmt start="15:3" end="15:28">
        <StmtExpr parenthesized="false">
          <ExprCall>
            <slot name="callee">
              <Token type="ID" val="print" start="15:3" end="15:8" />
            </slot>
            <slot name="args">
              <ExprCallArg>
                <slot name="expr">
                  <StmtExpr parenthesized="false">
                    <ExprLit>
                      <Token type="LIT_STR" val="\"1 + 2 =\"" start="15:9" end="15:18" />
                    </ExprLit>
                  </StmtExpr>
                </slot>
              </ExprCallArg>
              <ExprCallArg>
                <slot name="expr">
                  <StmtExpr parenthesized="false">
                    <ExprCall>
                      <slot name="callee">
                        <Token type="ID" val="e" start="15:20" end="15:21" />
                      </slot>
                      <slot name="args">
                        <ExprCallArg>
                          <slot name="expr">
                            <StmtExpr parenthesized="false">
                              <ExprLit>
                                <Token type="LIT_INT_DEC" val="1" start="15:22" end="15:23" />
                              </ExprLit>
                            </StmtExpr>
                          </slot>
                        </ExprCallArg>
                        <ExprCallArg>
                          <slot name="expr">
                            <StmtExpr parenthesized="false">
                              <ExprLit>
                                <Token type="LIT_INT_DEC" val="2" start="15:25" end="15:26" />
                              </ExprLit>
                            </StmtExpr>
                          </slot>
                        </ExprCallArg>
                      </slot>
                    </ExprCall>
                  </StmtExpr>
                </slot>
              </ExprCallArg>
            </slot>
          </ExprCall>
        </StmtExpr>
      </Stmt>
    </slot>
  </StmtFnDecl>
</Stmt>
<Stmt start="18:1" end="20:2">
  <StmtMain>
    <Stmt start="19:3" end="19:22">
      <StmtExpr parenthesized="false">
        <ExprCall>
          <slot name="callee">
            <Token type="ID" val="test4" start="19:3" end="19:8" />
          </slot>
          <slot name="args">
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false">
                  <ExprAccess>
                    <Token type="ID" val="test1" start="19:9" end="19:14" />
                  </ExprAccess>
                </StmtExpr>
              </slot>
            </ExprCallArg>
            <ExprCallArg>
              <slot name="expr">
                <StmtExpr parenthesized="false">
                  <ExprAccess>
                    <Token type="ID" val="test2" start="19:16" end="19:21" />
                  </ExprAccess>
                </StmtExpr>
              </slot>
            </ExprCallArg>
          </slot>
        </ExprCall>
      </StmtExpr>
    </Stmt>
  </StmtMain>
</Stmt>
